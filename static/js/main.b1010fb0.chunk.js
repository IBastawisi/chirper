(this.webpackJsonpchirper=this.webpackJsonpchirper||[]).push([[0],{30:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(17),s=a.n(r),c=(a(30),a(11)),o=a(2),l=a(4),d=a(7),u=a.n(d),p=a(3),h=a(10),m=a.n(h),b=a(13),j=a(9),g=a(18),f=a(14),x={sarah_edo:{id:"sarah_edo",name:"Sarah Drasner",avatarURL:"https://tylermcginnis.com/would-you-rather/sarah.jpg",tweets:["8xf0y6ziyjabvozdd253nd","hbsc73kzqi75rg7v1e0i6a","2mb6re13q842wu8n106bhk","6h5ims9iks66d4m7kqizmv","3sklxkf9yyfowrf0o1ftbb"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",tweets:["5c9qojr2d1738zlx09afby","f4xzgapq7mu783k9t02ghx","nnvkjqoevs8t02lzcc0ky","4pt0px8l0l9g6y69ylivti","fap8sdxppna8oabnxljzcv","leqp4lzfox7cqvsgdj0e7","26p5pskqi88i58qmza2gid","xi3ca2jcfvpa0i3t4m7ag"]},dan_abramov:{id:"dan_abramov",name:"Dan Abramov",avatarURL:"https://tylermcginnis.com/would-you-rather/dan.jpg",tweets:["5w6k1n34dkp1x29cuzn2zn","czpa59mg577x1oo45cup0d","omdbjl68fxact38hk7ypy6","3km0v4hf1ps92ajf4z2ytg","njv20mq7jsxa6bgsqc97","sfljgka8pfddbcer8nuxv","r0xu2v1qrxa6ygtvf2rkjw"]}},v={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",text:"Shoutout to all the speakers I know for whom English is not a first language, but can STILL explain a concept well. It's hard enough to give a good talk in your mother tongue!",author:"sarah_edo",timestamp:1518122597860,likes:["tylermcginnis"],replies:["fap8sdxppna8oabnxljzcv","3km0v4hf1ps92ajf4z2ytg"],replyingTo:null},"5c9qojr2d1738zlx09afby":{id:"5c9qojr2d1738zlx09afby",text:"I hope one day the propTypes pendulum swings back. Such a simple yet effective API. Was one of my favorite parts of React.",author:"tylermcginnis",timestamp:1518043995650,likes:["sarah_edo","dan_abramov"],replies:["njv20mq7jsxa6bgsqc97"],replyingTo:null},f4xzgapq7mu783k9t02ghx:{id:"f4xzgapq7mu783k9t02ghx",text:"Want to work at Facebook/Google/:BigCompany? Start contributing code long before you ever interview there.",author:"tylermcginnis",timestamp:1517043995650,likes:["dan_abramov"],replies:[],replyingTo:null},hbsc73kzqi75rg7v1e0i6a:{id:"hbsc73kzqi75rg7v1e0i6a",text:"Puppies 101: buy a hamper with a lid on it.",author:"sarah_edo",timestamp:1516043995650,likes:["tylermcginnis"],replies:["leqp4lzfox7cqvsgdj0e7","sfljgka8pfddbcer8nuxv"],replyingTo:null},"5w6k1n34dkp1x29cuzn2zn":{id:"5w6k1n34dkp1x29cuzn2zn",text:"Is there a metric like code coverage, but that shows lines that, if changed (in a syntactically correct way), wouldn\u2019t cause tests to fail?",author:"dan_abramov",timestamp:1515043995650,likes:["sarah_edo"],replies:[],replyingTo:null},czpa59mg577x1oo45cup0d:{id:"czpa59mg577x1oo45cup0d",text:"React came out 'rethinking best practices'. It has since accumulated 'best practices' of its own. Let\u2019s see if we can do better.",author:"dan_abramov",timestamp:1515043995650,likes:["tylermcginnis","sarah_edo"],replies:["3sklxkf9yyfowrf0o1ftbb"],replyingTo:null},"2mb6re13q842wu8n106bhk":{id:"2mb6re13q842wu8n106bhk",text:"I think I realized I like dogs so much because I can really relate to being motivated by snacks",author:"sarah_edo",timestamp:1514043995650,likes:["dan_abramov"],replies:["26p5pskqi88i58qmza2gid"],replyingTo:null},nnvkjqoevs8t02lzcc0ky:{id:"nnvkjqoevs8t02lzcc0ky",text:"Maybe the real benefit of open source was the friendships we made along the way?",author:"tylermcginnis",timestamp:1513043995650,likes:[],replies:[],replyingTo:null},omdbjl68fxact38hk7ypy6:{id:"omdbjl68fxact38hk7ypy6",text:"A 7-minute Paul Joseph Watson video being translated and aired by a Russian state TV channel is the most surreal thing I\u2019ve seen in 2018 yet",author:"dan_abramov",timestamp:1512043995650,likes:[],replies:[],replyingTo:null},"4pt0px8l0l9g6y69ylivti":{id:"4pt0px8l0l9g6y69ylivti",text:"Talking less about the downsides of OSS and focusing on some of the huge potential upsides for once might just help get more people into it.",author:"tylermcginnis",timestamp:1511043995650,likes:["dan_abramov"],replies:[],replyingTo:null},"6h5ims9iks66d4m7kqizmv":{id:"6h5ims9iks66d4m7kqizmv",text:"By the way, if you have a blog post sitting around and want to get some eyes on it, we take guest submissions! That's how I started.",author:"sarah_edo",timestamp:1510043995650,likes:["dan_abramov","tylermcginnis"],replies:["xi3ca2jcfvpa0i3t4m7ag","r0xu2v1qrxa6ygtvf2rkjw"],replyingTo:null},fap8sdxppna8oabnxljzcv:{id:"fap8sdxppna8oabnxljzcv",author:"tylermcginnis",text:"I agree. I'm always really impressed when I see someone giving a talk in a language that's not their own.",timestamp:1518122677860,likes:["sarah_edo"],replyingTo:"8xf0y6ziyjabvozdd253nd",replies:[]},"3km0v4hf1ps92ajf4z2ytg":{id:"3km0v4hf1ps92ajf4z2ytg",author:"dan_abramov",text:"It can be difficult at times.",timestamp:1518122667860,likes:[],replyingTo:"8xf0y6ziyjabvozdd253nd",replies:[]},njv20mq7jsxa6bgsqc97:{id:"njv20mq7jsxa6bgsqc97",author:"dan_abramov",text:"Sometimes you have to sacrifice simplicity for power.",timestamp:1518044095650,likes:["tylermcginnis"],replyingTo:"5c9qojr2d1738zlx09afby",replies:[]},leqp4lzfox7cqvsgdj0e7:{id:"leqp4lzfox7cqvsgdj0e7",author:"tylermcginnis",text:"Also trashcans. Learned this the hard way.",timestamp:1516043255650,likes:[],replyingTo:"hbsc73kzqi75rg7v1e0i6a",replies:[]},sfljgka8pfddbcer8nuxv:{id:"sfljgka8pfddbcer8nuxv",author:"dan_abramov",text:"Puppies are the best.",timestamp:1516045995650,likes:["sarah_edo","tylermcginnis"],replyingTo:"hbsc73kzqi75rg7v1e0i6a",replies:[]},"3sklxkf9yyfowrf0o1ftbb":{id:"3sklxkf9yyfowrf0o1ftbb",author:"sarah_edo",text:"The idea of best practices being a negative thing is an interesting concept.",timestamp:1515044095650,likes:["dan_abramov"],replyingTo:"czpa59mg577x1oo45cup0d",replies:[]},"26p5pskqi88i58qmza2gid":{id:"26p5pskqi88i58qmza2gid",author:"tylermcginnis",text:"Too relatable",timestamp:1514044994650,likes:["sarah_edo"],replyingTo:"2mb6re13q842wu8n106bhk",replies:[]},xi3ca2jcfvpa0i3t4m7ag:{id:"xi3ca2jcfvpa0i3t4m7ag",author:"tylermcginnis",text:"Just DMd you!",timestamp:1510043995650,likes:[],replyingTo:"6h5ims9iks66d4m7kqizmv",replies:[]},r0xu2v1qrxa6ygtvf2rkjw:{id:"r0xu2v1qrxa6ygtvf2rkjw",author:"dan_abramov",text:"This is a great idea.",timestamp:1510044395650,likes:["tylermcginnis"],replyingTo:"6h5ims9iks66d4m7kqizmv",replies:[]}};function y(e){var t=e.text,a=e.author,n=e.replyingTo;return new Promise((function(e,i){var r=function(e){var t=e.author,a=e.text,n=e.replyingTo,i=void 0===n?null:n;return{author:t,id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),likes:[],replies:[],text:a,timestamp:Date.now(),replyingTo:i}}({text:t,author:a,replyingTo:n});setTimeout((function(){v=Object(p.a)(Object(p.a)({},v),{},Object(f.a)({},r.id,r)),x=Object(p.a)(Object(p.a)({},x),{},Object(f.a)({},a,Object(p.a)(Object(p.a)({},x[a]),{},{tweets:x[a].tweets.concat([r.id])}))),e(r)}),1e3)}))}function k(e){return function(e){var t=e.id,a=e.hasLiked,n=e.authedUser;return new Promise((function(e,i){setTimeout((function(){v=Object(p.a)(Object(p.a)({},v),{},Object(f.a)({},t,Object(p.a)(Object(p.a)({},v[t]),{},{likes:!0===a?v[t].likes.filter((function(e){return e!==n})):v[t].likes.concat([n])}))),e()}),500)}))}(e)}function w(e){return y(e)}var O=Object(j.b)("app/load",function(){var e=Object(b.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(Object(d.showLoading)()),e.next=3,Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(p.a)({},x))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(p.a)({},v))}),1e3)}))]).then((function(e){var t=Object(g.a)(e,2);return{users:t[0],tweets:t[1]}}));case 3:return n=e.sent,a.dispatch(Object(d.hideLoading)()),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),z=Object(j.c)({name:"app",initialState:{authedUser:null,loading:!0},reducers:{setAuthedUser:function(e,t){e.authedUser=t.payload}},extraReducers:function(e){e.addCase(O.pending,(function(e){e.loading=!0})).addCase(O.fulfilled,(function(e,t){e.loading=!1,e.authedUser="tylermcginnis"}))}}),q=(z.reducer,Object(j.c)({name:"tweets",initialState:{},reducers:{load:function(e,t){return t.payload},toggleLike:function(e,t){var a=e[t.payload.id];t.payload.hasLiked?a.likes=a.likes.filter((function(e){return e!==t.payload.authedUser})):a.likes.push(t.payload.authedUser)},add:function(e,t){e[t.payload.id]=t.payload,t.payload.replyingTo&&e[t.payload.replyingTo].replies.push(t.payload.id)}},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,t){return t.payload.tweets}))}})),T=Object(j.b)("tweets/toggleLike",function(){var e=Object(b.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(q.actions.toggleLike(t)),e.next=3,k(t).catch((function(e){a.dispatch(q.actions.toggleLike(t))}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(j.b)("tweets/add",function(){var e=Object(b.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(Object(d.showLoading)()),e.next=3,w(t);case 3:return n=e.sent,a.dispatch(q.actions.add(n)),a.dispatch(Object(d.hideLoading)()),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),S=(q.reducer,Object(j.c)({name:"users",initialState:{},reducers:{load:function(e,t){return t.payload}},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,t){return t.payload.users}))}})),_=(S.reducer,{app:Object(p.a)(Object(p.a)({},z.actions),{},{loadAsync:O,showLoading:d.showLoading,hideLoading:d.hideLoading}),users:S.actions,tweets:Object(p.a)(Object(p.a)({},q.actions),{},{toggleLikeAsync:T,addTweetAsync:L})}),N={app:z.reducer,users:S.reducer,tweets:q.reducer,loadingBar:d.loadingBarReducer};function I(e){var t=new Date(e),a=t.toLocaleTimeString("en-US");return a.substr(0,5)+a.slice(-2)+" | "+t.toLocaleDateString()}var C=a(1),U=function(e){var t=e.id,a=Object(l.useDispatch)(),n=Object(o.e)(),i=Object(l.useSelector)((function(e){return e.app.authedUser})),r=Object(l.useSelector)((function(e){return e.tweets[t]})),s=Object(l.useSelector)((function(e){return e.users[r.author]})),d=Object(l.useSelector)((function(e){return e.tweets[r.replyingTo]})),u=function(e,t,a,n){var i=e.id,r=e.likes,s=e.replies,c=e.text,o=e.timestamp;return{name:t.name,id:i,timestamp:o,text:c,avatar:t.avatarURL,likes:r.length,replies:s.length,hasLiked:r.includes(a),parent:n?{author:n.author,id:n.id}:null}}(r,s,i,d),p=u.name,h=u.avatar,m=u.timestamp,b=u.text,j=u.hasLiked,g=u.likes,f=u.replies,x=u.parent;return Object(C.jsxs)(c.b,{className:"tweet",to:"/tweet/".concat(t),children:[Object(C.jsx)("img",{src:h,alt:"Avatar of ".concat(p),className:"avatar"}),Object(C.jsxs)("div",{className:"tweet-info",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{children:p}),Object(C.jsx)("div",{children:I(m)}),x&&Object(C.jsxs)("button",{className:"replying-to",onClick:function(e){return function(e,t){e.preventDefault(),n.push("/tweet/".concat(t))}(e,x.id)},children:["Replying to @",x.author]}),Object(C.jsx)("p",{children:b})]}),Object(C.jsxs)("div",{className:"tweet-icons",children:[Object(C.jsx)("svg",{className:"tweet-icon",stroke:"currentColor",fill:"currentColor",version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("path",{d:"M19.164 19.547c-1.641-2.5-3.669-3.285-6.164-3.484v1.437c0 .534-.208 1.036-.586 1.414-.756.756-2.077.751-2.823.005l-6.293-6.207c-.191-.189-.298-.444-.298-.713s.107-.524.298-.712l6.288-6.203c.754-.755 2.073-.756 2.829.001.377.378.585.88.585 1.414v1.704c4.619.933 8 4.997 8 9.796v1c0 .442-.29.832-.714.958-.095.027-.19.042-.286.042-.331 0-.646-.165-.836-.452zm-7.141-5.536c2.207.056 4.638.394 6.758 2.121-.768-3.216-3.477-5.702-6.893-6.08-.504-.056-.888-.052-.888-.052v-3.497l-5.576 5.496 5.576 5.5v-3.499l1.023.011z"})}),Object(C.jsx)("span",{children:0!==f&&f}),Object(C.jsx)("button",{className:"heart-button",onClick:function(e){e.preventDefault(),a(_.tweets.toggleLike({id:r.id,hasLiked:u.hasLiked,authedUser:i}))},children:!0===j?Object(C.jsx)("svg",{className:"tweet-icon",stroke:"#e0245e",fill:"#e0245e",version:"1",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("path",{d:"M2.2 9.4c0 1.3.2 3.3 2 5.1 1.6 1.6 6.9 5.2 7.1 5.4.2.1.4.2.6.2s.4-.1.6-.2c.2-.2 5.5-3.7 7.1-5.4 1.8-1.8 2-3.8 2-5.1 0-3-2.4-5.4-5.4-5.4-1.6 0-3.2.9-4.2 2.3-1-1.4-2.6-2.3-4.4-2.3-2.9 0-5.4 2.4-5.4 5.4z"})}):Object(C.jsx)("svg",{className:"tweet-icon",stroke:"currentColor",fill:"currentColor",version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("path",{d:"M12 20c-.195 0-.391-.057-.561-.172-.225-.151-5.508-3.73-7.146-5.371-1.831-1.831-2.043-3.777-2.043-5.082 0-2.964 2.411-5.375 5.375-5.375 1.802 0 3.398.891 4.375 2.256.977-1.365 2.573-2.256 4.375-2.256 2.964 0 5.375 2.411 5.375 5.375 0 1.305-.212 3.251-2.043 5.082-1.641 1.641-6.923 5.22-7.146 5.371-.17.115-.366.172-.561.172zm-4.375-14c-1.861 0-3.375 1.514-3.375 3.375 0 1.093.173 2.384 1.457 3.668 1.212 1.212 4.883 3.775 6.293 4.746 1.41-.971 5.081-3.534 6.293-4.746 1.284-1.284 1.457-2.575 1.457-3.668 0-1.861-1.514-3.375-3.375-3.375s-3.375 1.514-3.375 3.375c0 .552-.447 1-1 1s-1-.448-1-1c0-1.861-1.514-3.375-3.375-3.375z"})})}),Object(C.jsx)("span",{children:0!==g&&g})]})]})]})};var R=function(){var e=Object(l.useSelector)((function(e){return Object.keys(e.tweets).sort((function(t,a){return e.tweets[a].timestamp-e.tweets[t].timestamp}))}));return Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"center",children:"Your Timeline"}),Object(C.jsx)("ul",{className:"dashboard-list",children:e.map((function(e){return Object(C.jsx)("li",{children:Object(C.jsx)(U,{id:e})},e)}))})]})},D=function(){var e=Object(l.useDispatch)(),t=Object(l.useSelector)((function(e){return e.app.authedUser})),a=Object(o.e)(),i=Object(n.useState)(""),r=Object(g.a)(i,2),s=r[0],c=r[1],d=Object(o.f)().id,u=function(){var n=Object(b.a)(m.a.mark((function n(i){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.preventDefault(),r=t,n.next=4,e(_.tweets.addTweetAsync({text:s,author:r,replyingTo:d}));case 4:c(""),!d&&a.push("/");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=280-s.length;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("h3",{className:"center",children:["Compose new ",d?"reply":"Tweet"]}),Object(C.jsxs)("form",{className:"new-tweet",onSubmit:u,children:[Object(C.jsx)("textarea",{placeholder:"What's happening?",value:s,onChange:function(e){c(e.target.value)},className:"textarea",maxLength:280,autoFocus:!0}),p<=100&&Object(C.jsx)("div",{className:"tweet-length",children:p}),Object(C.jsx)("button",{className:"btn",type:"submit",disabled:""===s,children:"Submit"})]})]})},P=function(){return Object(C.jsx)("nav",{className:"nav",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)(c.c,{to:"/",exact:!0,activeClassName:"active",children:"Home"})}),Object(C.jsx)("li",{children:Object(C.jsx)(c.c,{to:"/new",activeClassName:"active",children:"New Tweet"})})]})})},A=function(){var e=Object(o.f)().id,t=Object(l.useSelector)((function(t){return t.tweets[e].replies}));return Object(C.jsxs)("div",{children:[Object(C.jsx)(U,{id:e}),Object(C.jsx)(D,{}),0!==t.length&&Object(C.jsx)("h3",{className:"center",children:"Replies"}),Object(C.jsx)("ul",{children:t.map((function(e){return Object(C.jsx)("li",{children:Object(C.jsx)(U,{id:e})},e)}))})]})},B=function(){var e=Object(l.useDispatch)(),t=Object(l.useSelector)((function(e){return e.app}));return Object(n.useEffect)((function(){e(_.app.loadAsync())}),[e]),Object(C.jsx)(c.a,{basename:"/chirper",children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(u.a,{}),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)(P,{}),!t.loading&&Object(C.jsxs)("div",{children:[Object(C.jsx)(o.a,{path:"/",exact:!0,component:R}),Object(C.jsx)(o.a,{path:"/tweet/:id",component:A}),Object(C.jsx)(o.a,{path:"/new",component:D})]})]})]})})},M=Object(j.a)({reducer:N});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(l.Provider,{store:M,children:Object(C.jsx)(B,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.b1010fb0.chunk.js.map